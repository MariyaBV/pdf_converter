{"version":3,"sources":["js/form.js","js/header.js","js/uploader.js"],"names":["jQuery","document","ready","$","on","e","preventDefault","email","val","trim","recaptcha","grecaptcha","getResponse","messages","en","fill","captcha","ru","msg","documentElement","lang","phone","test","isValidEmail","length","alert","addClass","removeClass","$uploader","$fileInput","$fileList","handleFiles","files","each","_","file","type","li","text","name","size","toFixed","append","click","this","stopPropagation","originalEvent","dataTransfer"],"mappings":"AAAAA,OAAOC,UAAUC,OAAM,SAAUC,GAM7BA,EAAE,oBAAoBC,GAAG,UAAU,SAAUC,GACzCA,EAAEC,iBAEF,MAAMC,EAAQJ,EAAE,uBAAuBK,MAAMC,OACvCC,EAAYC,WAAWC,cAGvBC,EAAW,CACbC,GAAI,CACAC,KAAM,8BACNC,QAAS,uCAEbC,GAAI,CACAF,KAAM,kDACNC,QAAS,8CAGXE,EAAML,EAXCZ,SAASkB,gBAAgBC,OAWRP,EAAa,GAG3C,OAAKN,GAAUc,OAxBnB,SAAsBd,GAClB,MAAO,6BAA6Be,KAAKf,EAC7C,CAsB6BgB,CAAahB,GAMb,IAArBG,EAAUc,QACVnB,EAAEC,iBACFmB,MAAMP,EAAIF,UACH,QAHX,GALIX,EAAEC,iBACFmB,MAAMP,EAAIH,OACH,EAUf,GAEJ;ACzCAZ,EAAEF,UAAUC,OAAM,WAEhBC,EAAE,cAAcC,GAAG,SAAS,WAC1BD,EAAE,2CAA2CuB,SAAS,SACxD,IAGAvB,EAAE,UAAUC,GAAG,SAAS,WACtBD,EAAE,2CAA2CwB,YAAY,SAC3D,GACF;ACVAxB,GAAE,WACE,MAAMyB,EAAYzB,EAAE,aACd0B,EAAa1B,EAAE,cACf2B,EAAY3B,EAAE,aACDA,EAAE,eA0CrB,SAAS4B,EAAYC,GACjB7B,EAAE8B,KAAKD,GAAO,SAAUE,EAAGC,GACvB,GAAkB,oBAAdA,EAAKC,KAA4B,CACjC,MAAMC,EAAKlC,EAAE,aAAamC,KAAKH,EAAKI,KAAO,MAAQJ,EAAKK,KAAO,MAAMC,QAAQ,GAAK,QAClFX,EAAUY,OAAOL,EACrB,MACIZ,MAAM,QAAUU,EAAKI,KAAO,eAEpC,GACJ,CAhDApC,EAAE,cAAcC,GAAG,SAAS,WACxByB,EAAWc,OACf,IAGAd,EAAWzB,GAAG,UAAU,WACpB2B,EAAYa,KAAKZ,MACrB,IAGA7B,EAAEF,UAAUG,GAAG,iBAAiB,SAAUC,GACtCA,EAAEC,iBACFD,EAAEwC,iBACN,IAGAjB,EAAUxB,GAAG,YAAY,SAAUC,GAC/BA,EAAEC,iBACFD,EAAEwC,kBACFjB,EAAUF,SAAS,WACvB,IAEAE,EAAUxB,GAAG,aAAa,SAAUC,GAChCA,EAAEC,iBACFD,EAAEwC,kBACFjB,EAAUD,YAAY,WAC1B,IAGAC,EAAUxB,GAAG,QAAQ,SAAUC,GAC3BA,EAAEC,iBACFD,EAAEwC,kBACFjB,EAAUD,YAAY,YAGtBI,EADc1B,EAAEyC,cAAcC,aAAaf,MAE/C,GAgDJ","file":"../components/main.min.js","sourcesContent":["jQuery(document).ready(function ($) {\n    // Валидация email\n    function isValidEmail(email) {\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n    }\n    // Обработка отправки формы\n    $('#message-contact').on('submit', function (e) {\n        e.preventDefault();\n\n        const email = $('input[name=\"email\"]').val().trim();\n        const recaptcha = grecaptcha.getResponse();\n\n        const lang = document.documentElement.lang;\n        const messages = {\n            en: {\n                fill: \"Please enter a valid email.\",\n                captcha: \"Please confirm you are not a robot.\"\n            },\n            ru: {\n                fill: \"Пожалуйста, введите корректные email и телефон.\",\n                captcha: \"Пожалуйста, подтвердите, что вы не робот.\"\n            },\n        };\n        const msg = messages[lang] || messages['en'];\n\n        // Проверки\n        if (!email || !phone || !isValidEmail(email)) {\n            e.preventDefault();\n            alert(msg.fill);\n            return false;\n        }\n\n        if (recaptcha.length === 0) {\n            e.preventDefault();\n            alert(msg.captcha);\n            return false;\n        }\n\n        // Если всё ок то форма отправляется обычным POST на сервер\n    });\n\n});","$(document).ready(function () {\n  // открытие\n  $(\".hamburger\").on(\"click\", function () {\n    $(\".header .nav-has-dropdown .nav-dropdown\").addClass(\"active\");\n  });\n\n  // закрытие\n  $(\".close\").on(\"click\", function () {\n    $(\".header .nav-has-dropdown .nav-dropdown\").removeClass(\"active\");\n  });\n});\n\n","$(function () {\n    const $uploader = $(\"#uploader\");\n    const $fileInput = $(\"#fileInput\");\n    const $fileList = $(\"#fileList\");\n    const $pdfViewer = $(\"#pdf-viewer\");\n\n    // Кнопка выбора файлов\n    $(\"#selectBtn\").on(\"click\", function () {\n        $fileInput.click();\n    });\n\n    // Выбор файлов через input\n    $fileInput.on(\"change\", function () {\n        handleFiles(this.files);\n    });\n\n    // Нужно отменять dragover/drop на всем документе\n    $(document).on(\"dragover drop\", function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n    });\n\n    // Drag enter / leave / over\n    $uploader.on(\"dragover\", function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        $uploader.addClass(\"dragover\");\n    });\n\n    $uploader.on(\"dragleave\", function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        $uploader.removeClass(\"dragover\");\n    });\n\n    // Drop\n    $uploader.on(\"drop\", function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        $uploader.removeClass(\"dragover\");\n\n        const files = e.originalEvent.dataTransfer.files;\n        handleFiles(files);\n    });\n\n    // Обработка файлов\n    function handleFiles(files) {\n        $.each(files, function (_, file) {\n            if (file.type === \"application/pdf\") {\n                const li = $(\"<li></li>\").text(file.name + \" (\" + (file.size / 1024).toFixed(1) + \" KB)\");\n                $fileList.append(li);\n            } else {\n                alert(\"File \" + file.name + \" not is PDF!\");\n            }\n        });\n    };\n\n    // Рендер PDF с помощью PDF.js\n    function openPDF(file) {\n        $pdfViewer.html(\"\"); // очистка\n\n        const reader = new FileReader();\n        reader.onload = function () {\n            const typedarray = new Uint8Array(this.result);\n\n            pdfjsLib.getDocument(typedarray).promise.then(function (pdf) {\n                console.log(\"PDF открыт, страниц:\", pdf.numPages);\n\n                // Рисуем все страницы\n                for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {\n                    pdf.getPage(pageNum).then(function (page) {\n                        const scale = 1.2;\n                        const viewport = page.getViewport({ scale });\n\n                        const canvas = document.createElement(\"canvas\");\n                        const context = canvas.getContext(\"2d\");\n                        canvas.height = viewport.height;\n                        canvas.width = viewport.width;\n\n                        $pdfViewer.append(canvas);\n\n                        page.render({\n                            canvasContext: context,\n                            viewport: viewport\n                        });\n                    });\n                }\n            });\n        };\n        reader.readAsArrayBuffer(file);\n    }\n});"]}